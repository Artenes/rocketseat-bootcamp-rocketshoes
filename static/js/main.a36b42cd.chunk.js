(window.webpackJsonpmodule05=window.webpackJsonpmodule05||[]).push([[0],{118:function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"addToCartRequest",(function(){return R})),e.d(r,"addToCartSuccess",(function(){return _})),e.d(r,"removeFromCart",(function(){return F})),e.d(r,"updateAmountRequest",(function(){return M})),e.d(r,"updateAmountSuccess",(function(){return N}));var a=e(0),o=e.n(a),c=e(21),i=e.n(c),u=e(20),l=e(19),s=e(26),d=(e(83),e(95),e(96),e(15)),p=e.n(d),m=e(23),f=e(56),b=e(57),g=e(58),O=e(70),x=e(59),E=e(71),h=e(11),v=e(17),y=e(68),j=e(60),k=e.n(j),w=e(30),P={get:function(t){var n=t.split("/"),e=Object(y.a)(n,2),r=e[0],a=e[1];return"products"===t?{data:w.a}:"products"===r&&a?{data:w.a.find((function(t){return t.id===Number(a)}))}:"stock"===r&&a?{data:w.b.find((function(t){return t.id===Number(a)}))}:{data:null,status:404}}},D=(k.a.create({baseURL:"http://localhost:3333/"}),P),S=new Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format,C=e(13),A=e(14),T=e(29);function z(){var t=Object(C.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 20px;\n  list-style: none;\n\n  li {\n    display: flex;\n    flex-direction: column;\n    background: #fff;\n    border-radius: 4px;\n    padding: 20px;\n\n    img {\n      align-self: center;\n      max-width: 250px;\n    }\n\n    > strong {\n      font-size: 16px;\n      line-height: 20px;\n      color: #333;\n      margin-top: 5px;\n    }\n\n    > span {\n      font-size: 21px;\n      font-weight: bold;\n      margin: 5px 0 20px;\n    }\n\n    button {\n      background: #7159c1;\n      color: #fff;\n      border: 0;\n      border-radius: 4px;\n      overflow: hidden;\n      margin-top: auto;\n\n      display: flex;\n      align-items: center;\n      transition: background 0.2s;\n\n      &:hover {\n        background: ",";\n      }\n\n      div {\n        display: flex;\n        align-items: center;\n        padding: 12px;\n        background: rgba(0, 0, 0, 0.1);\n\n        svg {\n          margin-right: 5px;\n        }\n      }\n\n      span {\n        flex: 1;\n        text-align: center;\n        font-weight: bold;\n        text-transform: uppercase;\n      }\n    }\n  }\n"]);return z=function(){return t},t}var U=A.b.ul(z(),Object(T.a)(.03,"#7159c1"));function R(t){return{type:"@cart/ADD_REQUEST",id:t}}function _(t){return{type:"@cart/ADD_SUCCESS",product:t}}function F(t){return{type:"@cart/REMOVE",id:t}}function M(t,n){return{type:"@cart/UPDATE_AMOUNT_REQUEST",id:t,amount:n}}function N(t,n){return{type:"@cart/UPDATE_AMOUNT_SUCCESS",id:t,amount:n}}function L(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function q(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?L(e,!0).forEach((function(n){Object(m.a)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):L(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var I=function(t){function n(){var t,e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=Object(O.a)(this,(t=Object(x.a)(n)).call.apply(t,[this].concat(a)))).state={products:[]},e.handleAddProduct=function(t){(0,e.props.addToCartRequest)(t.id)},e}return Object(E.a)(n,t),Object(g.a)(n,[{key:"componentDidMount",value:function(){var t=Object(f.a)(p.a.mark((function t(){var n,e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.get("products");case 2:n=t.sent,e=n.data.map((function(t){return q({},t,{priceFormatted:S(t.price)})})),this.setState({products:e});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,n=this.state.products,e=this.props.amount;return o.a.createElement(U,null,n.map((function(n){return o.a.createElement("li",{key:n.id},o.a.createElement("img",{src:n.image,alt:n.title}),o.a.createElement("strong",null,n.title),o.a.createElement("span",null,n.priceFormatted),o.a.createElement("button",{type:"button",onClick:function(){return t.handleAddProduct(n)}},o.a.createElement("div",null,o.a.createElement(v.b,{size:16,color:"#fff"}),e[n.id]||0),o.a.createElement("span",null,"Add to cart")))})))}}]),n}(a.Component),Q=Object(l.b)((function(t){return{amount:t.cart.reduce((function(t,n){return t[n.id]=n.amount,t}),{})}}),(function(t){return Object(h.b)(r,t)}))(I),V=e(18);function J(){var t=Object(C.a)(["\n  display: flex;\n  align-items: baseline;\n\n  span {\n    color: #999;\n    font-weight: bold;\n  }\n\n  strong {\n    font-size: 28px;\n    margin-left: 5px;\n  }\n"]);return J=function(){return t},t}function B(){var t=Object(C.a)(["\n  width: 100%;\n\n  thead th {\n    color: #999;\n    text-align: left;\n    padding: 12px;\n  }\n\n  tbody td {\n    padding: 12px;\n    border-bottom: 1px solid #eee;\n  }\n\n  img {\n    height: 100px;\n  }\n\n  strong {\n    color: #333;\n    display: block;\n  }\n\n  span {\n    display: block;\n    margin-top: 5px;\n    font-size: 18px;\n    font-weight: bold;\n  }\n\n  div {\n    display: flex;\n    align-items: center;\n\n    input {\n      border: 1px solid #ddd;\n      border-radius: 4px;\n      color: #666;\n      padding: 6px;\n      width: 50px;\n    }\n  }\n\n  button {\n    background: none;\n    border: 0;\n    padding: 6px;\n  }\n"]);return B=function(){return t},t}function Y(){var t=Object(C.a)(["\n  padding: 30px;\n  background: #fff;\n  border-radius: 4px;\n\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n  }\n\n  > div {\n    padding: 100px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    svg {\n      color: #333;\n    }\n\n    h3 {\n      margin: 10px;\n      font-size: 26px;\n      color: #333;\n    }\n\n    button {\n      border: 0;\n      background: #7159c1;\n      padding: 10px;\n      border-radius: 5px;\n      color: #fff;\n      font-weight: bold;\n      transition: background 0.2s;\n\n      &:hover {\n        background: ",";\n      }\n    }\n  }\n"]);return Y=function(){return t},t}var G=A.b.div(Y(),Object(T.a)(.03,"#7159c1")),H=A.b.table(B()),K=A.b.div(J());function W(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}var X=Object(l.b)((function(t){return{cart:t.cart.map((function(t){return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?W(e,!0).forEach((function(n){Object(m.a)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):W(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({},t,{subtotal:S(t.price*t.amount)})})),total:S(t.cart.reduce((function(t,n){return t+n.price*n.amount}),0))}}),(function(t){return Object(h.b)(r,t)}))((function(t){var n=t.cart,e=t.total,r=t.removeFromCart,a=t.updateAmountRequest;return o.a.createElement(G,null,n.length?o.a.createElement(o.a.Fragment,null,o.a.createElement(H,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null," "),o.a.createElement("th",null,"Product"),o.a.createElement("th",null,"Amount"),o.a.createElement("th",null,"Subtotal"),o.a.createElement("th",null," "))),o.a.createElement("tbody",null,n.map((function(t){return o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("img",{src:t.image,alt:t.title})),o.a.createElement("td",null,o.a.createElement("strong",null,t.title),o.a.createElement("span",null,t.priceFormatted)),o.a.createElement("td",null,o.a.createElement("div",null,o.a.createElement("button",{type:"button",onClick:function(){return function(t){a(t.id,t.amount-1)}(t)}},o.a.createElement(v.d,{size:20,color:"#7159c1"})),o.a.createElement("input",{type:"text",readOnly:!0,value:t.amount}),o.a.createElement("button",{type:"button",onClick:function(){return function(t){a(t.id,t.amount+1)}(t)}},o.a.createElement(v.a,{size:20,color:"#7159c1"})))),o.a.createElement("td",null,o.a.createElement("strong",null,t.subtotal)),o.a.createElement("td",null,o.a.createElement("button",{type:"button",onClick:function(){return r(t.id)}},o.a.createElement(v.c,{size:20,color:"#7159c1"}))))})))),o.a.createElement("footer",null,o.a.createElement(K,null,o.a.createElement("span",null,"Total"),o.a.createElement("strong",null,e)))):o.a.createElement("div",null,o.a.createElement(v.e,{size:70}),o.a.createElement("h3",null,"Your cart is empty"),o.a.createElement(V.a,{to:"/"},o.a.createElement("button",{type:"button"},"Let's get something"))))}));function Z(){return o.a.createElement(u.c,null,o.a.createElement(u.a,{path:"/",exact:!0,component:Q}),o.a.createElement(u.a,{path:"/cart",component:X}))}e(115);var $=e(64),tt=e.n($);function nt(){var t=Object(C.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Roboto&display=swap');\n\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    background: #191920 url(",") no-repeat center top;\n    -webkit-font-smoothing: antialiased;\n  }\n\n  body, input, button {\n    font: 14px Roboto sans-serif;\n  }\n\n  #root {\n    max-width: 1020px;\n    margin: 0 auto;\n    padding: 0 20px 50px;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n"]);return nt=function(){return t},t}var et=Object(A.a)(nt(),tt.a);function rt(){var t=Object(C.a)(["\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  transition: opacity 0.2s;\n\n  &:hover {\n    opacity: 0.7;\n  }\n\n  div {\n    text-align: right;\n    margin-right: 10px;\n\n    strong {\n      display: block;\n      color: #fff;\n    }\n\n    span {\n      font-size: 12px;\n      color: #999;\n    }\n  }\n"]);return rt=function(){return t},t}function at(){var t=Object(C.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 50px 0;\n"]);return at=function(){return t},t}var ot=A.b.header(at()),ct=Object(A.b)(V.a)(rt()),it=e(65),ut=e.n(it);var lt=Object(l.b)((function(t){return{cartSize:t.cart.length}}))((function(t){var n=t.cartSize;return o.a.createElement(ot,null,o.a.createElement(V.a,{to:"/"},o.a.createElement("img",{src:ut.a,alt:"Rocketshoes"})),o.a.createElement(ct,{to:"/cart"},o.a.createElement("div",null,o.a.createElement("strong",null,"My cart"),o.a.createElement("span",null,n," items")),o.a.createElement(v.e,{size:36,color:"#FFF"})))})),st=e(8),dt=Object(st.a)({basename:"/rocketseat-bootcamp-rocketshoes"}),pt=e(69),mt=e(31);var ft=Object(h.c)({cart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"@cart/ADD_SUCCESS":return Object(mt.a)(t,(function(t){var e=n.product;t.push(e)}));case"@cart/REMOVE":return Object(mt.a)(t,(function(t){var e=t.findIndex((function(t){return t.id===n.id}));e>=0&&t.splice(e,1)}));case"@cart/UPDATE_AMOUNT_SUCCESS":return Object(mt.a)(t,(function(t){var e=t.findIndex((function(t){return t.id===n.id}));e>=0&&(t[e].amount=Number(n.amount))}));default:return t}}}),bt=e(9),gt=p.a.mark(ht),Ot=p.a.mark(vt);function xt(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Et(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?xt(e,!0).forEach((function(n){Object(m.a)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):xt(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function ht(t){var n,e,r,a,o,c,i,u;return p.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.id,l.next=3,Object(bt.select)((function(t){return t.cart.find((function(t){return t.id===n}))}));case 3:return e=l.sent,l.next=6,Object(bt.call)(D.get,"stock/".concat(n));case 6:if(r=l.sent,a=r.data.amount,o=e?e.amount:0,!((c=o+1)>a)){l.next=13;break}return s.b.error("No more stock available"),l.abrupt("return");case 13:if(!e){l.next=18;break}return l.next=16,Object(bt.put)(N(n,c));case 16:l.next=24;break;case 18:return l.next=20,Object(bt.call)(D.get,"products/".concat(n));case 20:return i=l.sent,u=Et({},i.data,{amount:1,priceFormatted:S(i.data.price)}),l.next=24,Object(bt.put)(_(u));case 24:dt.push("/cart");case 25:case"end":return l.stop()}}),gt)}function vt(t){var n,e,r,a;return p.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n=t.id,!((e=t.amount)<=0)){o.next=3;break}return o.abrupt("return");case 3:return o.next=5,Object(bt.call)(D.get,"stock/".concat(n));case 5:if(r=o.sent,a=r.data.amount,!(e>a)){o.next=10;break}return s.b.error("No more stock available"),o.abrupt("return");case 10:return o.next=12,Object(bt.put)(N(n,e));case 12:case"end":return o.stop()}}),Ot)}var yt=Object(bt.all)([Object(bt.takeLatest)("@cart/ADD_REQUEST",ht),Object(bt.takeLatest)("@cart/UPDATE_AMOUNT_REQUEST",vt)]),jt=p.a.mark(kt);function kt(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(bt.all)([yt]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),jt)}var wt=Object(pt.a)({sagaMonitor:null}),Pt=Object(h.a)(wt),Dt=Object(h.e)(ft,Pt);wt.run(kt);var St=Dt;var Ct=function(){return o.a.createElement(l.a,{store:St},o.a.createElement(u.b,{basename:"/rocketseat-bootcamp-rocketshoes",history:dt},o.a.createElement(et,null),o.a.createElement(s.a,{autoClose:3e3}),o.a.createElement(lt,null),o.a.createElement(Z,null)))};i.a.render(o.a.createElement(Ct,null),document.getElementById("root"))},30:function(t){t.exports=JSON.parse('{"b":[{"id":1,"amount":3},{"id":2,"amount":5},{"id":3,"amount":2},{"id":4,"amount":1},{"id":5,"amount":5},{"id":6,"amount":10}],"a":[{"id":1,"title":"T\xeanis de Caminhada Leve Confort\xe1vel","price":179.9,"image":"https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/modulo-redux/tenis1.jpg"},{"id":2,"title":"T\xeanis VR Caminhada Confort\xe1vel Detalhes Couro Masculino","price":139.9,"image":"https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/modulo-redux/tenis2.jpg"},{"id":3,"title":"T\xeanis Adidas Duramo Lite 2.0","price":219.9,"image":"https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/modulo-redux/tenis3.jpg"},{"id":5,"title":"T\xeanis VR Caminhada Confort\xe1vel Detalhes Couro Masculino","price":139.9,"image":"https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/modulo-redux/tenis2.jpg"},{"id":6,"title":"T\xeanis Adidas Duramo Lite 2.0","price":219.9,"image":"https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/modulo-redux/tenis3.jpg"},{"id":4,"title":"T\xeanis de Caminhada Leve Confort\xe1vel","price":179.9,"image":"https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/modulo-redux/tenis1.jpg"}]}')},64:function(t,n,e){t.exports=e.p+"static/media/background.3c9a1ce5.svg"},65:function(t,n,e){t.exports=e.p+"static/media/logo.879557c5.svg"},74:function(t,n,e){t.exports=e(118)}},[[74,1,2]]]);
//# sourceMappingURL=main.a36b42cd.chunk.js.map